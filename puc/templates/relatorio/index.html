{% extends "base.html" %}

{% block title %}Relatorio{% endblock %}

{% block stylesheet %}

<link rel="stylesheet" type="text/css" href="/media/css/forms.css" />
<link rel="stylesheet" type="text/css" href="/media/css/widgets.css" />

<style type="text/css">

#conteudo {
	margin: 1px auto;
	padding: 3px;
	/*position: relative;*/
	width:95%;
	border: 2px solid;
	background: PowderBlue;
	font-family: verdana, arial, sans-serif;
	font-size: 10px;
}

#colunas {
	margin: 1px auto;
	border: 1px solid;
	text-align: center;
}

#relatorio {
	margin: 1px auto;
	border: 1px solid;
	text-align: center;
}
</style>

{% endblock %}
	
{% block javascript %}
<script src="/media/js/jsi18n.js" type="text/javascript"></script>
<script src="/media/js/core.js"></script>
<script src="/media/js/application.js" type="text/javascript"></script>
<script src="/media/js/dateparse.js"></script>
<script src="/media/js/timeparse.js"></script>
<script src="/media/js/calendar.js"></script>
<script src="/media/js/admin/DateTimeShortcuts.js" type="text/javascript"></script>
<script src="/media/js/sme2_relatorio.js"></script>

<script type="text/javascript">
	var produtos_alarmes_json = {{ produtos_alarmes|safe }}
	var alarmes_monitores_json = {{ alarmes_monitores|safe }}
</script>


{% endblock %}

{% block content %}
<div id="conteudo">
<center><h2>Relatório</h2></br></center>
<form name='frm' method=POST action=''>
	<span>Produto/Alarme/Monitor: </span><br>
	<!-- produto -->
	<select name=produto onChange='adicionaAlarmes(this.options[this.selectedIndex].value);'>
		<option value="0" selected>[Selecione um produto]</option>
		{% for produto in produtos %}
			<option id="prd_{{ produto.prd_id }}" value="{{ produto.prd_id }}">{{ produto.prd_nome }}</option>
		{% endfor %}
	</select>
	
	<!-- alarme -->
	<select name=alarme onChange='adicionaMonitores(this.options[this.selectedIndex].value);'>
		{% if alarmes %}
			<option value="0">[Selecione um alarme]</option>
			{% for alarme in alarmes %}
					<option id="alm_{{ alarme.prd_id }}" value="{{ alarme.alm_id }}">{{ alarme.alm_nome }}</option>
			{% endfor %}
		{% else %}
				<option value="0" selected>[Selecione um alarme]</option>
		{% endif %}
	</select>
	<!-- monitor -->
	<!--select name=monitor onChange='document.frm.submit();'-->
	<select name=monitor onChange=''>
		{% if monitores %}
			<option value="0">[Selecione um monitor]</option>
			{% for monitor in monitores %}
				<option id="mon_{{ monitor.mon_id }}" value="{{ monitor.mon_id }}">{{ monitor.mon_nome }}</option>
			{% endfor %}
		{% else %}
			<option value="0" selected>[Selecione um monitor]</option>
		{% endif %}
	</select>
	<!-- Periodo -->
	<h3>Período</h3>
	<table>
	<tr>
		<th><label for="id_begin_date">Início:</label></th>
		<td><input id="id_data_inicio" type="text" class="vDateField" name="data_inicio" size="10" /></td>
	</tr>
	<tr>
		<th><label for="id_end_date">Término:</label></th>
		<td><input id="id_data_fim" type="text" class="vDateField" name="data_fim" size="10" /></td>
	</tr>
	</table>
	<input type="submit" value="gerar relatório">
</form>
</br>
<div id="colunas">div colunas</div>
{% if frm2 %}
<h1>frm2!!!!</h1>
<h1>{{ request.POST.produto }}</h1>
<h1>{{ request.POST.alarme }}</h1>
<h1>{{ request.POST.monitor }}</h1>
{% endif %}
<div id="relatorio">relatorio div</div>
</div>

{% endblock %}


./core/editarAtivo.jsp:                                                 <option value="1" <% if (String.valueOf(ativo.getLocalizacaoId().intValue()).equals("1")) { %> selected <% } %> >Estoque</option>
./core/editarAtivo.jsp:                                                 <option value="2" <% if (String.valueOf(ativo.getLocalizacaoId().intValue()).equals("2")) { %> selected <% } %> >Manuten###</option>
./core/editarAtivo.jsp:                                                 <option value="3" <% if (String.valueOf(ativo.getLocalizacaoId().intValue()).equals("3")) { %> selected <% } %> >Produ###</option>
./core/editarAtivo.jsp:                                                 <option value="1" <% if (String.valueOf(ativo.getTipo().intValue()).equals("1")) { %> selected <% } %> >Servidor</option>
./core/editarAtivo.jsp:                                                 <option value="2" <% if (String.valueOf(ativo.getTipo().intValue()).equals("2")) { %> selected <% } %> >Aplica###</option>
./core/editarAtivo.jsp:                                                 <option value="3" <% if (String.valueOf(ativo.getTipo().intValue()).equals("3")) { %> selected <% } %> >Roteador</option>
./monitoracao/removerMonitoracao.jsp:                           <option value="<%= usuario.getId().intValue() %>" <% if (String.valueOf(usuario.getId().intValue()).equalsIgnoreCas


